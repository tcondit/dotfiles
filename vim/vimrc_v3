" Tim Condit
" A lot of this came from Doug Black's .vimrc

" Colors {{{
syntax enable                   " enable syntax processing
try
    colorscheme solarized       " ...
catch
endtry
set background=light            " affects colorscheme choices
" }}}
" Misc {{{
set ttyfast                     " faster redraw
set backspace=indent,eol,start  " backspace over everything in insert mode
"set mousehide                   " hide mouse when typing (Q: GUI only?)
" }}}
" Spaces & Tabs {{{
set tabstop=4                   " TABs are 4 spaces (TODO: use 8 instead?)
set softtabstop=4               " TABs are 4 spaces when editing
set expandtab                   " turn TABs into spaces
set shiftwidth=4                " use 4 spaces for indentation
set modelines=1                 " modeline as the first or last line only
filetype indent on              " enable filetype detection
filetype plugin on              " load plugins for specific filetypes
set autoindent                  " copy indent from last line
set pastetoggle=<f5>            " set paste from insert mode
"set showtabline                 " TODO
" }}}
" UI Layout {{{
set showcmd                     " show incomplete commands like "y23dd
set showmatch                   " briefly jump to matching brackets
set showmode                    " show Insert, Replace or Visual modes
set nocursorline                " don't highlight the current line
set wildmenu                    " show autocompletes (LOVE THIS!)
set wildmode=full               " default: consider list:longest
" }}}
" Searching {{{
set ignorecase                  " ignore case when searching
set smartcase                   " case sensitive search for UpperCaseChars
set incsearch                   " search as characters are entered
set hlsearch                    " highlight all matches
" }}}
" Saving {{{
nnoremap ; :                    " save a keystroke on save
au FocusLost * :wa              " Steve Losh "coming home to Vim"
" }}}
" Sessions {{{
winsize 80 50
set sessionoptions+=unix        " Unix EOL format for :mksession
" }}}
" Folding {{{
set foldmethod=indent           " fold based on indent level
set foldnestmax=10              " max depth 10
set foldenable                  " don't fold files by default on open
nnoremap <space> za             " toggle folding
set foldlevelstart=10           " start with fold level of 1
" }}}
" Line Shortcuts {{{
nnoremap j gj                   " move down by vertical line
nnoremap k gk                   " move up by vertical line
nnoremap <up> <C-Y>             " make up- and down-arrow ...
nnoremap <down> <C-E>           " ... scroll like a browser
" }}}
" Leader Shortcuts {{{
let mapleader=","
nnoremap <leader>ev :vsplit $MYVIMRC<CR>    " edit my .vimrc
nnoremap <leader>sv :source $MYVIMRC<CR>    " source it
"nnoremap <leader>ez :vsplit ~/.zshrc<CR>   " edit my shell
nnoremap <leader><space> :nohlsearch<CR>    " toggle hlsearch
nnoremap <leader>s :mksession<CR>           " save session (see vim -S)
inoremap jk <esc>                           " jk escapes insert mode
"cnoremap jk <esc>                           " jk escapes command mode
nnoremap <leader>W :%s/\s\+$//<cr>:let @/=''<CR>    " IOW, %s/  *$//gc
" }}}
" Abbreviations {{{
iab adn         and
iab alos        also
iab aslo        also
iab becuase     because
iab bianry      binary
iab bianries    binaries
iab charcter    character
iab charcters   characters
iab definitinos definitions
iab exmaple     example
iab exmaples    examples
iab hostanme    hostname
iab imoprt      import
iab numver      number
iab shoudl      should
iab seperate    separate
iab teh         the
iab tpyo        typo
iab witdh       width
iab yeild       yield
" }}}
" AutoGroups {{{
augroup configgroup
    autocmd!
    autocmd VimEnter * highlight clear SignColumn
    autocmd BufWritePre *.py,*.js,*.asciidoc,*.md,*.txt :call <SID>StripTrailingWhitespaces()
    autocmd FileType python setlocal commentstring=#\ %s
    " other autocmd commands here
augroup END
" }}}
" Backups {{{
"set backup
"set backupdir=~/.vim-tmp,~/.tmp,~/tmp,/var/tmp,/tmp
"set backupskip=/tmp/*,/private/tmp/*
"set directory=~/.vim-tmp,~/.tmp,~/tmp,/var/tmp,/tmp
"set writebackup
" }}}
" History {{{
set history=500                 " save more history (default 20)
" }}}
" Tips {{{
" :verbose set foo?             " show where foo was last set
" V=                            " select text and reformat
" :set rightleft                " goofy
" \r                            " newline escape sequence (ex: 's/,/\r')
" }}}
" Future Enhancements {{{
" See vimrc_maybe_later
" }}}
" Regex {{{
nnoremap / /\v                  " turn off Vim regex handling (\very magic)
vnoremap / /\v                  " Steve Losh "coming home to Vim"
" }}}

" Powerline {{{
" }}}
" CtrlP {{{
" }}}
" NERDTree {{{
" }}}
" Syntastic {{{
" }}}
" Launch Config {{{
" }}}
" Tmux {{{
" }}}
" MacVim {{{
" }}}


" Strips trailing whitespace at the end of files. This is called on buffer
" write in the autogroup above.
function! <SID>StripTrailingWhitespaces()
    " save last search & cursor position
    let _s=@/
    let l = line(".")
    let c = col(".")
    %s/\s\+$//e
    let @/=_s
    call cursor(l, c)
endfunction

" vim:foldmethod=marker:foldlevel=0
